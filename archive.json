{
  "magic": "E!vIA5L86J2I",
  "timestamp": "2026-01-29T01:17:24.423768+00:00",
  "repo": "moq-dev/drafts",
  "labels": [
    {
      "name": "bug",
      "description": "Something isn't working",
      "color": "d73a4a"
    },
    {
      "name": "documentation",
      "description": "Improvements or additions to documentation",
      "color": "0075ca"
    },
    {
      "name": "duplicate",
      "description": "This issue or pull request already exists",
      "color": "cfd3d7"
    },
    {
      "name": "enhancement",
      "description": "New feature or request",
      "color": "a2eeef"
    },
    {
      "name": "good first issue",
      "description": "Good for newcomers",
      "color": "7057ff"
    },
    {
      "name": "help wanted",
      "description": "Extra attention is needed",
      "color": "008672"
    },
    {
      "name": "invalid",
      "description": "This doesn't seem right",
      "color": "e4e669"
    },
    {
      "name": "question",
      "description": "Further information is requested",
      "color": "d876e3"
    },
    {
      "name": "wontfix",
      "description": "This will not be worked on",
      "color": "ffffff"
    }
  ],
  "issues": [],
  "pulls": [
    {
      "number": 1,
      "id": "PR_kwDOLz_x-M55MRMu",
      "title": "Update draft-lcurley-moq-transfork.md",
      "url": "https://github.com/moq-dev/drafts/pull/1",
      "state": "MERGED",
      "author": "kixelated",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2024-08-23T01:39:31Z",
      "updatedAt": "2024-08-23T17:35:45Z",
      "baseRepository": "moq-dev/drafts",
      "baseRefName": "main",
      "baseRefOid": "8d0bb9ab399f7a1214d7f866462df4720db9db64",
      "headRepository": "moq-dev/drafts",
      "headRefName": "kixelated-patch-1",
      "headRefOid": "0cb632ff4478b0d95b3e1f6abe13b171b34a355d",
      "closedAt": "2024-08-23T17:35:38Z",
      "mergedAt": "2024-08-23T17:35:38Z",
      "mergedBy": "kixelated",
      "mergeCommit": {
        "oid": "f547de8f8e3e90ccc075727b389e93f38e29c02f"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 2,
      "id": "PR_kwDOLz_x-M5_qIKT",
      "title": "Split the broadcast name into a path array",
      "url": "https://github.com/moq-dev/drafts/pull/2",
      "state": "MERGED",
      "author": "kixelated",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2024-10-23T18:09:41Z",
      "updatedAt": "2024-10-23T18:16:38Z",
      "baseRepository": "moq-dev/drafts",
      "baseRefName": "main",
      "baseRefOid": "8c342397a7ead7311d3f234f2f4bbf1264558e91",
      "headRepository": "moq-dev/drafts",
      "headRefName": "broadcast-path",
      "headRefOid": "843f4131bfd7ca101d081d1f585468699b807f74",
      "closedAt": "2024-10-23T18:16:33Z",
      "mergedAt": "2024-10-23T18:16:32Z",
      "mergedBy": "kixelated",
      "mergeCommit": {
        "oid": "11313f83057393b49747cc8cd2b63bf6b3d848e9"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 3,
      "id": "PR_kwDOLz_x-M6DNmzk",
      "title": "Remove broadcast.",
      "url": "https://github.com/moq-dev/drafts/pull/3",
      "state": "MERGED",
      "author": "kixelated",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2024-11-26T16:11:49Z",
      "updatedAt": "2024-11-26T16:20:28Z",
      "baseRepository": "moq-dev/drafts",
      "baseRefName": "main",
      "baseRefOid": "11313f83057393b49747cc8cd2b63bf6b3d848e9",
      "headRepository": "moq-dev/drafts",
      "headRefName": "remove-broadcast",
      "headRefOid": "c6b72a11de31cbaa493c7322c1e9a097d5223b48",
      "closedAt": "2024-11-26T16:20:27Z",
      "mergedAt": "2024-11-26T16:20:27Z",
      "mergedBy": "kixelated",
      "mergeCommit": {
        "oid": "86ef1cfd0a5d27b46c3f82191d10bc8fafa92959"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 4,
      "id": "PR_kwDOLz_x-M6DWCFf",
      "title": "ANNOUNCE changes",
      "url": "https://github.com/moq-dev/drafts/pull/4",
      "state": "MERGED",
      "author": "kixelated",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2024-11-27T14:12:38Z",
      "updatedAt": "2024-12-03T19:58:35Z",
      "baseRepository": "moq-dev/drafts",
      "baseRefName": "main",
      "baseRefOid": "86ef1cfd0a5d27b46c3f82191d10bc8fafa92959",
      "headRepository": "moq-dev/drafts",
      "headRefName": "announce-wait",
      "headRefOid": "efc0c30fb11cb924b653d8cb5927931d23988462",
      "closedAt": "2024-12-03T06:01:28Z",
      "mergedAt": "2024-12-03T06:01:28Z",
      "mergedBy": "kixelated",
      "mergeCommit": {
        "oid": "72146b0f289d20081e51a0cbf2d3e88d16c3bffd"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 5,
      "id": "PR_kwDOLz_x-M6IL-TW",
      "title": "Remove group expires.",
      "url": "https://github.com/moq-dev/drafts/pull/5",
      "state": "MERGED",
      "author": "kixelated",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-01-17T18:20:43Z",
      "updatedAt": "2025-01-17T18:21:03Z",
      "baseRepository": "moq-dev/drafts",
      "baseRefName": "main",
      "baseRefOid": "559b3e587360fbfc5cd35a0d6d82a13acef7af3a",
      "headRepository": "moq-dev/drafts",
      "headRefName": "remove-group-expires",
      "headRefOid": "272b3ae69b2fbb96d3dfd10053303ece447acfc6",
      "closedAt": "2025-01-17T18:20:56Z",
      "mergedAt": "2025-01-17T18:20:56Z",
      "mergedBy": "kixelated",
      "mergeCommit": {
        "oid": "6cd41da086a994a0085e754fba225feb612376da"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 6,
      "id": "PR_kwDOLz_x-M6XSPEH",
      "title": "moq-lite and hang.",
      "url": "https://github.com/moq-dev/drafts/pull/6",
      "state": "MERGED",
      "author": "kixelated",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-05-22T20:02:42Z",
      "updatedAt": "2025-05-22T20:03:49Z",
      "baseRepository": "moq-dev/drafts",
      "baseRefName": "main",
      "baseRefOid": "6cd41da086a994a0085e754fba225feb612376da",
      "headRepository": "moq-dev/drafts",
      "headRefName": "hang2",
      "headRefOid": "39594508d6900d779720793878da352942e3f440",
      "closedAt": "2025-05-22T20:03:44Z",
      "mergedAt": "2025-05-22T20:03:44Z",
      "mergedBy": "kixelated",
      "mergeCommit": {
        "oid": "7ed7ddd46470f6fc527ebbb5f0fa857a82f7cc05"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 7,
      "id": "PR_kwDOLz_x-M6XSVD0",
      "title": "Update",
      "url": "https://github.com/moq-dev/drafts/pull/7",
      "state": "MERGED",
      "author": "kixelated",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-05-22T20:16:39Z",
      "updatedAt": "2025-05-22T20:18:20Z",
      "baseRepository": "moq-dev/drafts",
      "baseRefName": "main",
      "baseRefOid": "7ed7ddd46470f6fc527ebbb5f0fa857a82f7cc05",
      "headRepository": "moq-dev/drafts",
      "headRefName": "update",
      "headRefOid": "7b0bfd8bcc8fb2a2ac6609204f46a1ab119a26a8",
      "closedAt": "2025-05-22T20:18:20Z",
      "mergedAt": "2025-05-22T20:18:20Z",
      "mergedBy": "kixelated",
      "mergeCommit": {
        "oid": "5cfbcfd0442e60a2350856d3e73e7bc95a554b80"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 8,
      "id": "PR_kwDOLz_x-M6XSgpY",
      "title": "Small fixes.",
      "url": "https://github.com/moq-dev/drafts/pull/8",
      "state": "MERGED",
      "author": "kixelated",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-05-22T20:43:35Z",
      "updatedAt": "2025-05-22T23:51:56Z",
      "baseRepository": "moq-dev/drafts",
      "baseRefName": "main",
      "baseRefOid": "5cfbcfd0442e60a2350856d3e73e7bc95a554b80",
      "headRepository": "moq-dev/drafts",
      "headRefName": "small-fixes",
      "headRefOid": "4e181ce9c7f7c090edadbc9f5e4c88ed4bc4b523",
      "closedAt": "2025-05-22T23:51:56Z",
      "mergedAt": "2025-05-22T23:51:56Z",
      "mergedBy": "kixelated",
      "mergeCommit": {
        "oid": "a2e09036f9afbb47227ded78ffc1cf4442ba6661"
      },
      "comments": [],
      "reviews": []
    },
    {
      "number": 9,
      "id": "PR_kwDOLz_x-M6f6ECw",
      "title": "Add Claude Code GitHub Workflow",
      "url": "https://github.com/moq-dev/drafts/pull/9",
      "state": "MERGED",
      "author": "kixelated",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "## \ud83e\udd16 Installing Claude Code GitHub App\r\n\r\nThis PR adds a GitHub Actions workflow that enables Claude Code integration in our repository.\r\n\r\n### What is Claude Code?\r\n\r\n[Claude Code](https://claude.ai/code) is an AI coding agent that can help with:\r\n- Bug fixes and improvements  \r\n- Documentation updates\r\n- Implementing new features\r\n- Code reviews and suggestions\r\n- Writing tests\r\n- And more!\r\n\r\n### How it works\r\n\r\nOnce this PR is merged, we'll be able to interact with Claude by mentioning @claude in a pull request or issue comment.\r\nOnce the workflow is triggered, Claude will analyze the comment and surrounding context, and execute on the request in a GitHub action.\r\n\r\n### Important Notes\r\n\r\n- **This workflow won't take effect until this PR is merged**\r\n- **@claude mentions won't work until after the merge is complete**\r\n- The workflow runs automatically whenever Claude is mentioned in PR or issue comments\r\n- Claude gets access to the entire PR or issue context including files, diffs, and previous comments\r\n\r\n### Security\r\n\r\n- Our Anthropic API key is securely stored as a GitHub Actions secret\r\n- Only users with write access to the repository can trigger the workflow\r\n- All Claude runs are stored in the GitHub Actions run history\r\n- Claude's default tools are limited to reading/writing files and interacting with our repo by creating comments, branches, and commits.\r\n- We can add more allowed tools by adding them to the workflow file like:\r\n\r\n```\r\nallowed_tools: Bash(npm install),Bash(npm run build),Bash(npm run lint),Bash(npm run test)\r\n```\r\n\r\nThere's more information in the [Claude Code action repo](https://github.com/anthropics/claude-code-action).\r\n\r\nAfter merging this PR, let's try mentioning @claude in a comment on any PR to get started!",
      "createdAt": "2025-07-21T18:24:01Z",
      "updatedAt": "2025-07-21T18:25:56Z",
      "baseRepository": "moq-dev/drafts",
      "baseRefName": "main",
      "baseRefOid": "a2e09036f9afbb47227ded78ffc1cf4442ba6661",
      "headRepository": "moq-dev/drafts",
      "headRefName": "add-claude-github-actions-1753122234755",
      "headRefOid": "8b1fec17f18326034ff94e2452722cf82f6dc307",
      "closedAt": "2025-07-21T18:24:08Z",
      "mergedAt": "2025-07-21T18:24:08Z",
      "mergedBy": "kixelated",
      "mergeCommit": {
        "oid": "b1cf22c06fb0a9db613816cd22a9b7ad7ebb8d8b"
      },
      "comments": [
        {
          "author": "claude",
          "authorAssociation": "CONTRIBUTOR",
          "body": "**Claude finished @kixelated's task** \u2014\u2014 [View job](https://github.com/kixelated/moq-drafts/actions/runs/16424955904)\n\n---\n### PR Review Complete \u2705\n\nI've analyzed both Claude Code workflow files. Here's my comprehensive review:\n\n**Review Checklist:**\n- [x] Read repository setup instructions (CLAUDE.md) - No repo-specific setup found\n- [x] Analyze `.github/workflows/claude-code-review.yml`\n- [x] Analyze `.github/workflows/claude.yml`\n- [x] Evaluate code quality and best practices\n- [x] Check for potential bugs or issues\n- [x] Assess performance considerations\n- [x] Review security concerns\n- [x] Evaluate test coverage\n- [x] Provide comprehensive feedback\n\n---\n\n### Code Quality & Best Practices \u2705\n\n**Strengths:**\n- Both workflows follow GitHub Actions best practices with clear naming and structure\n- Good use of conditional execution (`if` statements) to control when workflows run\n- Proper version pinning for actions (`actions/checkout@v4`)\n- Comprehensive commenting with optional configurations for future customization\n- Clean YAML syntax with proper indentation and structure\n\n**Areas for Improvement:**\n- Consider pinning the Claude action to a specific version instead of `@beta` for production stability: `.github/workflows/claude-code-review.yml:36` and `.github/workflows/claude.yml:35`\n\n### Security Concerns \u26a0\ufe0f\n\n**Good Security Practices:**\n- Proper use of GitHub secrets for API token (`CLAUDE_CODE_OAUTH_TOKEN`)\n- Minimal necessary permissions granted to each workflow\n- Use of `id-token: write` for OIDC authentication\n\n**Security Recommendations:**\n1. **Permissions Review**: Both workflows grant broad permissions. Consider if `contents: read` and `issues: read` are necessary for the code review workflow (`.github/workflows/claude-code-review.yml:22-26`)\n2. **Branch Protection**: With automated code reviews, ensure branch protection rules are configured to prevent bypassing human oversight\n3. **Rate Limiting**: No rate limiting protection against excessive Claude invocations - consider adding conditions to prevent abuse\n\n### Performance Considerations \u2705\n\n**Efficient Design:**\n- `fetch-depth: 1` minimizes checkout time and bandwidth (`.github/workflows/claude-code-review.yml:32`)\n- Proper conditional execution prevents unnecessary workflow runs\n- Ubuntu-latest provides good performance for CI operations\n\n**Potential Optimizations:**\n- The code review workflow runs on every PR sync, which could be resource-intensive for large repos with frequent commits\n\n### Potential Issues \ud83d\udd0d\n\n**Minor Issues:**\n1. **Commented Code**: Extensive commented-out configuration options should be cleaned up or moved to documentation (`.github/workflows/claude-code-review.yml:6-11`, `.github/workflows/claude-code-review.yml:15-19`, etc.)\n2. **Duplicate Permissions**: The `additional_permissions` in `.github/workflows/claude.yml:40-41` duplicates the `actions: read` already granted in permissions (`.github/workflows/claude.yml:26`)\n\n**Workflow Logic:**\n- The trigger conditions in `.github/workflows/claude.yml:15-19` are comprehensive and well-structured\n- No race conditions or dependency issues identified\n\n### Test Coverage \u274c\n\n**Missing Test Strategy:**\n- No test workflows or validation for the Claude Code integration\n- Consider adding:\n  - Integration tests to verify workflow triggers work correctly\n  - Tests for different event types (issue comments, PR reviews, etc.)\n  - Validation that Claude responses are properly posted\n\n### Architecture Recommendations \ud83d\udca1\n\n1. **Workflow Separation**: Good separation of concerns between automated reviews (`claude-code-review.yml`) and interactive responses (`claude.yml`)\n\n2. **Configuration Management**: Consider creating a CLAUDE.md file with project-specific instructions for Claude, as referenced in many Claude Code best practices\n\n3. **Monitoring**: Consider adding workflow status checks or notifications for failed Claude interactions\n\n### Overall Assessment \ud83d\udcca\n\n**Score: B+ (Very Good with Minor Improvements Needed)**\n\nThis is a solid implementation of Claude Code integration with good security practices and clean code structure. The main improvements needed are:\n- Pin action versions for stability\n- Clean up extensive commented code\n- Add basic testing/validation\n- Consider rate limiting protections\n\nThe workflows are production-ready but would benefit from the suggested refinements for enterprise use.",
          "createdAt": "2025-07-21T18:24:14Z",
          "updatedAt": "2025-07-21T18:25:56Z"
        }
      ],
      "reviews": []
    },
    {
      "number": 10,
      "id": "PR_kwDOLz_x-M6f6EqB",
      "title": "Add the ANNOUNCE_INIT message.",
      "url": "https://github.com/moq-dev/drafts/pull/10",
      "state": "MERGED",
      "author": "kixelated",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-07-21T18:25:09Z",
      "updatedAt": "2025-07-21T21:08:52Z",
      "baseRepository": "moq-dev/drafts",
      "baseRefName": "main",
      "baseRefOid": "e422d660993c9564a2061aefab4f22664085e920",
      "headRepository": "moq-dev/drafts",
      "headRefName": "announce-init",
      "headRefOid": "94c958ccbb6e9b22b04fd5a927faa0fe1719b5e6",
      "closedAt": "2025-07-21T21:08:52Z",
      "mergedAt": "2025-07-21T21:08:52Z",
      "mergedBy": "kixelated",
      "mergeCommit": {
        "oid": "2751bb05a32a6b62022b1185bdbef65ca0f195a3"
      },
      "comments": [
        {
          "author": "claude",
          "authorAssociation": "CONTRIBUTOR",
          "body": "**Claude finished @kixelated's task** \u2014\u2014 [View job](https://github.com/kixelated/moq-drafts/actions/runs/16424978626)\n\n---\n### PR Review: Add the ANNOUNCE_INIT message\n\n#### Review Progress:\n- [x] Read and analyze the changes in draft-lcurley-moq-lite.md\n- [x] Review ANNOUNCE_INIT message specification for technical correctness\n- [x] Check formatting and consistency with existing specification style\n- [x] Evaluate specification clarity and completeness\n- [x] Provide comprehensive feedback and recommendations\n\n#### Review Summary\n\nThis PR adds the `ANNOUNCE_INIT` message to address race conditions in broadcast discovery. The addition is **technically sound and addresses a real problem**, but has some minor issues that should be addressed.\n\n#### \u2705 Strengths\n\n1. **Solves Real Problem**: ANNOUNCE_INIT elegantly solves the race condition where subscribers can't know when they've received all initial ANNOUNCE messages\n2. **Clear Use Case**: The API server example (draft-lcurley-moq-lite.md:332) clearly illustrates why this message is needed\n3. **Consistent Design**: Message encoding follows established patterns and conventions\n4. **Proper State Management**: Clarifies that broadcasts start as \"ended\" unless in ANNOUNCE_INIT, maintaining clear state transitions\n\n#### \ud83d\udc1b Issues Found\n\n**Grammar/Typos:**\n- **Line 333**: \"recieved\" \u2192 \"received\"\n- **Line 350**: \"This all currently active broadcasts\" \u2192 \"This includes all currently active broadcasts\"\n- **Line 356**: \"can constructed\" \u2192 \"can be constructed\"\n\n**Technical Concerns:**\n1. **Duplicate Handling**: No specification for what happens if ANNOUNCE_INIT contains duplicate suffixes for the same broadcast\n2. **Resource Limits**: Consider adding guidance on maximum suffix count or size limitations to prevent abuse\n3. **Error Conditions**: Should specify behavior when ANNOUNCE_INIT and subsequent ANNOUNCE messages have conflicting states\n\n**Minor Specification Issues:**\n- The phrase \"toggle the status\" (line 359) could be clearer - perhaps \"alternate between active and ended states\"\n- Consider adding an example showing the complete flow: ANNOUNCE_PLEASE \u2192 ANNOUNCE_INIT \u2192 ANNOUNCE sequence\n\n#### \ud83d\udd0d Security & Performance Considerations\n\n- **Resource Exhaustion**: Large ANNOUNCE_INIT responses could be used for DoS attacks - consider recommending implementation limits\n- **State Consistency**: The specification properly addresses state management to prevent confusion between publishers/subscribers\n\n#### \ud83d\udcdd Recommendations\n\n1. **Fix the typos** mentioned above\n2. **Add clarification** on duplicate suffix handling\n3. **Consider adding** an informative example showing the complete announce flow\n4. **Optional**: Add implementation guidance on reasonable limits for suffix count\n\n#### Verdict\n\nThis is a **well-designed addition** that solves a legitimate protocol issue. The technical approach is sound and the specification is mostly clear. With the minor corrections above, this change significantly improves the broadcast discovery mechanism.\n\n**Recommendation: Approve with minor revisions**\n\n---",
          "createdAt": "2025-07-21T18:25:24Z",
          "updatedAt": "2025-07-21T18:26:53Z"
        },
        {
          "author": "kixelated",
          "authorAssociation": "COLLABORATOR",
          "body": "@claude Can you make those suggested revisions and push a commit?",
          "createdAt": "2025-07-21T18:37:50Z",
          "updatedAt": "2025-07-21T18:37:50Z"
        },
        {
          "author": "claude",
          "authorAssociation": "CONTRIBUTOR",
          "body": "**Claude finished @kixelated's task** \u2014\u2014 [View job](https://github.com/kixelated/moq-drafts/actions/runs/16425239487)\n\n---\n### Task: Implement Suggested Revisions from Code Review\n\n- [x] Read the current draft-lcurley-moq-lite.md file\n- [x] Fix grammar/typos:\n  - [x] Line 333: \"recieved\" \u2192 \"received\"\n  - [x] Line 350: \"This all currently active broadcasts\" \u2192 \"This includes all currently active broadcasts\"  \n  - [x] Line 356: \"can constructed\" \u2192 \"can be constructed\"\n- [x] Address technical concerns where feasible:\n  - [x] Add clarification on duplicate suffix handling\n  - [x] Improve clarity of \"toggle the status\" phrase  \n  - [x] Add resource limit guidance\n- [x] Commit and push changes\n\n### Summary\n\nSuccessfully implemented all suggested revisions from the code review:\n\n**Grammar & Typo Fixes:**\n- Fixed spelling error: \"recieved\" \u2192 \"received\" \n- Corrected incomplete sentence: \"This all currently active broadcasts\" \u2192 \"This includes all currently active broadcasts\"\n- Fixed grammar: \"can constructed\" \u2192 \"can be constructed\"\n\n**Technical Improvements:**\n- **Duplicate Suffix Handling**: Added clarification that \"A publisher SHOULD NOT include duplicate suffixes in a single ANNOUNCE_INIT message\"\n- **Status Clarity**: Improved \"toggle the status\" to \"alternate between status values (from active to ended or vice versa)\" for better precision\n- **Resource Limits**: Added implementation guidance: \"Implementations SHOULD consider reasonable limits on the number of matching broadcasts to prevent resource exhaustion\"\n\n**Commit:** [`f4c0449`](https://github.com/kixelated/moq-drafts/commit/f4c0449) - \"Fix typos and improve ANNOUNCE_INIT specification\"\n\nThe ANNOUNCE_INIT specification is now more precise, addresses potential edge cases, and provides better implementation guidance while maintaining backward compatibility.\n\n---",
          "createdAt": "2025-07-21T18:38:01Z",
          "updatedAt": "2025-07-21T18:39:41Z"
        },
        {
          "author": "kixelated",
          "authorAssociation": "COLLABORATOR",
          "body": "@claude\r\n\r\n> A publisher SHOULD NOT include duplicate suffixes in a single ANNOUNCE_INIT message.\r\nCan you change that to a MUST NOT.\r\n\r\n> A client MUST ONLY alternate between status values (from active to ended or vice versa), encoded on the wire so the receiver doesn't need to maintain a set of active broadcasts.\r\nIt's an run-on sentence now. Can you put the second half in a new sentence or remove it entirely (no need to justify the design).",
          "createdAt": "2025-07-21T20:13:04Z",
          "updatedAt": "2025-07-21T20:13:04Z"
        },
        {
          "author": "claude",
          "authorAssociation": "CONTRIBUTOR",
          "body": "**Claude finished @kixelated's task** \u2014\u2014 [View job](https://github.com/kixelated/moq-drafts/actions/runs/16427117339)\n\n---\n### \u2705 Task Completed: Specific Text Revisions to ANNOUNCE_INIT Specification\n\n- [x] Read the current draft-lcurley-moq-lite.md file to locate target text\n- [x] Change \"A publisher SHOULD NOT include duplicate suffixes\" to \"MUST NOT\" (line 348)\n- [x] Fix run-on sentence about status alternation (line 361) - removed justification clause\n- [x] Commit and push changes to announce-init branch\n\n---\n\n### Changes Made\n\n**1. Strengthened duplicate suffix requirement:**\n- Changed `A publisher SHOULD NOT include duplicate suffixes` \u2192 `A publisher MUST NOT include duplicate suffixes`\n\n**2. Simplified status alternation sentence:**\n- Original: `A client MUST ONLY alternate between status values (from active to ended or vice versa), encoded on the wire so the receiver doesn't need to maintain a set of active broadcasts.`\n- Revised: `A client MUST ONLY alternate between status values (from active to ended or vice versa).`\n- Removed the design justification clause as requested\n\n**Commit:** [`94c958c`](https://github.com/kixelated/moq-drafts/commit/94c958c) - \"Strengthen ANNOUNCE_INIT duplicate suffix requirement and simplify status alternation sentence\"\n\nBoth requested changes have been successfully implemented and pushed to the `announce-init` branch.\n\n---",
          "createdAt": "2025-07-21T20:13:16Z",
          "updatedAt": "2025-07-21T20:14:49Z"
        }
      ],
      "reviews": []
    },
    {
      "number": 11,
      "id": "PR_kwDOLz_x-M6f-yJ5",
      "title": "Add a message length to each message.",
      "url": "https://github.com/moq-dev/drafts/pull/11",
      "state": "MERGED",
      "author": "kixelated",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "Useful for debugging encoding issues.",
      "createdAt": "2025-07-22T04:27:12Z",
      "updatedAt": "2025-07-22T16:32:36Z",
      "baseRepository": "moq-dev/drafts",
      "baseRefName": "main",
      "baseRefOid": "2751bb05a32a6b62022b1185bdbef65ca0f195a3",
      "headRepository": "moq-dev/drafts",
      "headRefName": "message-size",
      "headRefOid": "d684aabe199d0567f181c4ba380ebb3229191885",
      "closedAt": "2025-07-22T16:32:36Z",
      "mergedAt": "2025-07-22T16:32:35Z",
      "mergedBy": "kixelated",
      "mergeCommit": {
        "oid": "eb32d1043eab2eb6017b1eb856198788ed084202"
      },
      "comments": [
        {
          "author": "claude",
          "authorAssociation": "CONTRIBUTOR",
          "body": "**Claude finished @kixelated's task** \u2014\u2014 [View job](https://github.com/kixelated/moq-drafts/actions/runs/16434655437)\n\n---\n### PR Review Complete \u2705\n\n**Add a message length to each message**\n\n#### Todo List:\n- [x] Read and analyze changes in draft-lcurley-moq-lite.md\n- [x] Review for code quality and best practices\n- [x] Check for potential bugs or issues\n- [x] Assess performance considerations\n- [x] Evaluate security concerns\n- [x] Consider test coverage implications\n- [x] Provide comprehensive review feedback\n\n---\n\n### Review Summary\n\nThis PR adds message length prefixes to all MOQ-Lite protocol messages, which is a **solid improvement** for protocol robustness and debugging capabilities.\n\n### \u2705 Strengths\n\n**Protocol Design Quality:**\n- **Consistent implementation**: The `Message Length (i)` field is systematically added to all 11 message types\n- **Clear specification**: Well-documented in lines 255-261 with explicit guidance on length field semantics\n- **Proper error handling**: Specifies that implementations SHOULD close with `PROTOCOL_VIOLATION` for unexpected lengths\n\n**Best Practices:**\n- **Length excludes itself**: Correctly specifies that the length field doesn't include its own varint bytes\n- **Version negotiation preference**: Recommends using version/extensions rather than length for new fields\n- **Changelog maintenance**: Properly documented in Appendix A\n\n### \ud83d\udd0d Technical Considerations\n\n**Performance Impact:**\n- **Minimal overhead**: Variable-length integers are efficient for small messages\n- **Parsing benefit**: Enables implementations to pre-allocate buffers and validate message boundaries\n- **Network efficiency**: No significant bandwidth impact given varint encoding\n\n**Security Enhancements:**\n- **DoS protection**: Message length validation helps prevent resource exhaustion attacks\n- **Parser robustness**: Enables early detection of malformed messages before full parsing\n- **Protocol violation detection**: Clear error semantics for implementation bugs\n\n**Implementation Considerations:**\n- **Backward compatibility**: This appears to be a breaking change requiring version bump\n- **Stream framing**: Works well with QUIC's stream-based delivery model\n- **Debugging improvement**: Aligns with PR description goal of helping debug encoding issues\n\n### \ud83d\udcdd Minor Observations\n\n**Documentation:**\n- Line 272: \"reciever\" should be \"receiver\" (pre-existing typo)\n- The specification format follows IETF RFC style consistently\n\n**Protocol Specification:**\n- All message formats are updated consistently\n- Appendix B properly reflects the change from \"Messages don't have an encoded length\" to \"Messages include a varint length prefix\"\n\n### \u2705 Recommendation\n\n**APPROVE** - This is a well-executed protocol enhancement that improves robustness, debugging capabilities, and implementation reliability with minimal overhead.\n\n---",
          "createdAt": "2025-07-22T04:27:26Z",
          "updatedAt": "2025-07-22T04:28:43Z"
        },
        {
          "author": "kixelated",
          "authorAssociation": "COLLABORATOR",
          "body": "@claude can you fix any typos? And fix the appendix.",
          "createdAt": "2025-07-22T11:20:48Z",
          "updatedAt": "2025-07-22T11:20:48Z"
        },
        {
          "author": "claude",
          "authorAssociation": "CONTRIBUTOR",
          "body": "**Claude finished @kixelated's task** \u2014\u2014 [View job](https://github.com/kixelated/moq-drafts/actions/runs/16442799513)\n\n---\n### Typos and Appendix Review Complete \u2705\n\n### Todo List:\n- [x] Read the draft document to understand current state\n- [x] Fix typo: 'reciever' -> 'receiver' (line 272)\n- [x] Fix typo: 'cooresponds' -> 'corresponds' (line 86)\n- [x] Fix typo: 'idenfier' -> 'identifier' (line 408)\n- [x] Review appendix for accuracy\n- [x] Commit and push changes\n\n---\n\n### Summary\n\n**Typos Fixed:**\n- Line 86: `cooresponds` \u2192 `corresponds` \n- Line 272: `reciever` \u2192 `receiver`\n- Line 408: `idenfier` \u2192 `identifier`\n\n**Appendix Review:**\nThe appendix is already accurate and properly reflects the message length changes:\n- Appendix A correctly documents \"Added Message Length (i) to all messages\"\n- Appendix B correctly lists \"Messages include a varint length prefix\" in the upstream differences\n\n**Changes committed and pushed** to the `message-size` branch successfully.\n\n---\n | [Branch: message-size](https://github.com/kixelated/moq-drafts/tree/message-size)",
          "createdAt": "2025-07-22T11:21:02Z",
          "updatedAt": "2025-07-22T11:22:32Z"
        }
      ],
      "reviews": []
    },
    {
      "number": 12,
      "id": "PR_kwDOLz_x-M6h58m7",
      "title": "Remove publisher priority.",
      "url": "https://github.com/moq-dev/drafts/pull/12",
      "state": "MERGED",
      "author": "kixelated",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-08-03T21:33:17Z",
      "updatedAt": "2025-08-03T21:34:36Z",
      "baseRepository": "moq-dev/drafts",
      "baseRefName": "main",
      "baseRefOid": "eb32d1043eab2eb6017b1eb856198788ed084202",
      "headRepository": "moq-dev/drafts",
      "headRefName": "publisher-priority",
      "headRefOid": "5aed1e9f8f85b0f998152a69059e3562651505e8",
      "closedAt": "2025-08-03T21:33:39Z",
      "mergedAt": "2025-08-03T21:33:39Z",
      "mergedBy": "kixelated",
      "mergeCommit": {
        "oid": "7b5e17355e37f9657996f23bc7e7d8da5f64d9a5"
      },
      "comments": [
        {
          "author": "claude",
          "authorAssociation": "CONTRIBUTOR",
          "body": "**Claude finished @kixelated's task** \u2014\u2014 [View job](https://github.com/kixelated/moq-drafts/actions/runs/16709657339)\n\n---\n### PR Review: Remove Publisher Priority \u2705\n\nI've completed a comprehensive review of the changes that remove publisher priority functionality from the MOQ lite specification.\n\n#### Review Tasks:\n- [x] Analyze the specific changes made to `draft-lcurley-moq-lite.md`\n- [x] Check for consistency and completeness after the removal\n- [x] Look for any remaining references that might need cleanup\n- [x] Assess technical impact on the protocol specification\n- [x] Provide feedback on code quality, potential issues, and best practices\n\n---\n\n#### Analysis\n\nThe PR removes a single sentence from line 414 in the `SUBSCRIBE` message documentation:\n```diff\n- If there is a tie, a publisher may choose which subscription takes priority, if any.\n```\n\n#### Review Feedback\n\n**\u2705 Positive Aspects:**\n1. **Clean removal**: The change is surgical and well-contained, removing only the tie-breaking behavior without affecting the core priority mechanism\n2. **Maintains consistency**: The removal doesn't create any dangling references or inconsistencies within the MOQ lite specification\n3. **Preserves core functionality**: Subscriber priority still works as intended - publishers should transmit higher priority values first during congestion\n\n**\ud83d\udccb Technical Impact Assessment:**\n\n**Specification Clarity:**\n- **Improvement**: Removing the tie-breaking clause simplifies the priority model by eliminating publisher discretion in ambiguous cases\n- **Consistency**: This aligns with the \"lite\" philosophy of the specification - removing optional complexity\n\n**Protocol Behavior:**\n- **No breaking changes**: The core priority mechanism (`draft-lcurley-moq-lite.md:412-413`) remains intact\n- **Reduced ambiguity**: Publishers no longer have discretionary tie-breaking power, which could lead to non-deterministic behavior\n- **Simplified implementation**: Removes a potentially complex edge case from publisher implementations\n\n**Cross-document Consistency Check:**\n- **\u26a0\ufe0f Potential inconsistency**: `draft-lcurley-moq-use-cases.md:321` still mentions \"A relay should use the publisher's priority/order only when there's a conflict\" - this may need updating to reflect the simplified model where publishers no longer have tie-breaking authority\n\n#### Recommendations\n\n1. **Consider updating use-cases document**: The use-cases document (`draft-lcurley-moq-use-cases.md:321`) still references publisher priority in conflict resolution. Consider updating this to reflect the simplified priority model.\n\n2. **Specification completeness**: With tie-breaking removed, consider explicitly stating what should happen when subscriber priorities are equal (e.g., \"implementation-defined behavior\" or \"round-robin\").\n\n#### Security & Performance Considerations\n\n- **Security**: \u2705 No security implications - this is a protocol behavior simplification\n- **Performance**: \u2705 Slight improvement - removes complexity from publisher priority decision-making\n- **Interoperability**: \u2705 Good - simplifies implementation requirements\n\n#### Test Coverage\n\nSince this is a protocol specification document rather than implementation code, traditional test coverage doesn't apply. However, the change should be reflected in:\n- Implementation test suites that verify priority behavior\n- Conformance tests for tie-breaking scenarios\n\n#### Summary\n\nThis is a well-executed simplification that aligns with the MOQ lite philosophy of removing complexity. The change improves specification clarity while maintaining the core priority functionality. The only concern is potential inconsistency with the use-cases document that should be addressed.\n\n**Recommendation: Approve with suggestion to update cross-references in related documents.**\n\n---",
          "createdAt": "2025-08-03T21:33:30Z",
          "updatedAt": "2025-08-03T21:34:36Z"
        }
      ],
      "reviews": []
    },
    {
      "number": 13,
      "id": "PR_kwDOLz_x-M6zDw1h",
      "title": "Latest updates and stuff.",
      "url": "https://github.com/moq-dev/drafts/pull/13",
      "state": "MERGED",
      "author": "kixelated",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2025-11-12T19:57:17Z",
      "updatedAt": "2025-11-12T21:12:44Z",
      "baseRepository": "moq-dev/drafts",
      "baseRefName": "main",
      "baseRefOid": "7b5e17355e37f9657996f23bc7e7d8da5f64d9a5",
      "headRepository": "moq-dev/drafts",
      "headRefName": "v2",
      "headRefOid": "0a22be6c4805cf5c50f1a7c1d5d9a843c0223ae8",
      "closedAt": "2025-11-12T21:12:44Z",
      "mergedAt": "2025-11-12T21:12:44Z",
      "mergedBy": "kixelated",
      "mergeCommit": {
        "oid": "9da8678cf72b826da7a6f3f4c3109789c2d2f7cc"
      },
      "comments": [
        {
          "author": "claude",
          "authorAssociation": "CONTRIBUTOR",
          "body": "Claude Code is working\u2026 <img src=\"https://github.com/user-attachments/assets/5ac382c7-e004-429b-8e35-7feb3e8f9c6f\" width=\"14px\" height=\"14px\" style=\"vertical-align: middle; margin-left: 4px;\" />\n\nI'll analyze this and get back to you.\n\n[View job run](https://github.com/kixelated/moq-drafts/actions/runs/19310124404)",
          "createdAt": "2025-11-12T19:57:34Z",
          "updatedAt": "2025-11-12T19:57:34Z"
        }
      ],
      "reviews": []
    },
    {
      "number": 14,
      "id": "PR_kwDOLz_x-M68dftW",
      "title": "draft-03: add delivery properties",
      "url": "https://github.com/moq-dev/drafts/pull/14",
      "state": "OPEN",
      "author": "kixelated",
      "authorAssociation": "COLLABORATOR",
      "assignees": [],
      "labels": [],
      "body": "",
      "createdAt": "2026-01-10T10:33:47Z",
      "updatedAt": "2026-01-10T10:35:34Z",
      "baseRepository": "moq-dev/drafts",
      "baseRefName": "main",
      "baseRefOid": "9da8678cf72b826da7a6f3f4c3109789c2d2f7cc",
      "headRepository": "moq-dev/drafts",
      "headRefName": "delivery",
      "headRefOid": "17379e46cdf2fee741e3a30ab2b4eb708a6e88b5",
      "closedAt": null,
      "mergedAt": null,
      "mergedBy": null,
      "mergeCommit": null,
      "comments": [
        {
          "author": "claude",
          "authorAssociation": "CONTRIBUTOR",
          "body": "**Claude finished @kixelated's task** \u2014\u2014 [View job](https://github.com/moq-dev/drafts/actions/runs/20877011902)\n\n---\n### PR Review: Add Delivery Properties to MOQ Lite Draft\n\n**Review Checklist:**\n- [x] Read and analyze the draft changes\n- [x] Review technical content and specification accuracy\n- [x] Check formatting and IETF standards compliance\n- [x] Assess completeness and clarity\n- [x] Provide comprehensive feedback\n\nI've completed my review of the changes in this PR that add delivery properties to draft-03 of the MOQ Lite specification. This is a significant enhancement that adds crucial real-time delivery capabilities to the protocol.\n\n### Technical Review\n\n#### **Strengths & Improvements** \u2705\n\n1. **Comprehensive Delivery Framework**: The addition of `Priority`, `Ordered`, and `Max Latency` properties provides a well-thought-out system for handling real-time delivery constraints.\n\n2. **Bidirectional Negotiation**: Smart design allowing both subscriber and publisher to specify delivery preferences, with clear conflict resolution rules (subscriber priority takes precedence).\n\n3. **Instant-based Timing**: Adding `Instant Delta` to frames provides proper timing semantics for expiration and synchronization while keeping the protocol payload-agnostic.\n\n4. **Clear Examples**: The conference call example with Ali/Bob effectively demonstrates how priority negotiation works in practice.\n\n5. **Expiration Logic**: Well-defined expiration semantics that consider both endpoints' perspectives and handle in-transit data appropriately.\n\n#### **Issues Found** \ud83d\udd0d\n\n**Critical Issues:**\n1. **Line 245**: Typo \"seperate\" should be \"separate\"\n2. **Line 248**: Typo \"exhchange\" should be \"exchange\" \n3. **Line 249**: Typo \"when Group\" should be \"which Group\"\n4. **Line 254**: \"QUIC library\" should probably be \"QUIC implementation\" for consistency\n5. **Line 283**: Typo \"presidence\" should be \"precedence\"\n6. **Line 296**: Missing word \"use\" - \"SHOULD NOT `ordered`\" should be \"SHOULD NOT use `ordered`\"\n7. **Line 299**: Broken markdown link `(expiration)[#expiration]` should be `[expiration](#expiration)`\n8. **Line 332**: Grammar error \"A publisher uses a frame was queued\" should be \"A publisher uses when a frame was queued\"\n9. **Line 332**: Typo \"it it has\" should be \"if it has\" (appears twice)\n10. **Line 288**: Duplicate line \"bob/audio\" - second should be \"bob/video\"\n\n**Technical Concerns:**\n1. **SUBSCRIBE_UPDATE Inconsistency** `draft-lcurley-moq-lite.md:566`: Field type mismatch - `Subscriber Priority (i)` should be `Subscriber Priority (8)` to match SUBSCRIBE message format.\n\n2. **Expiration Algorithm Clarity**: The example at lines 341-357 could be clearer about when frames are considered \"processed\" vs \"queued\" vs \"received\".\n\n3. **Delta Encoding Edge Case**: No specification for handling instant delta overflow or negative deltas when timestamps go backwards.\n\n#### **Minor Suggestions** \ud83d\udca1\n\n1. **Consistency**: Consider using \"which Track\" instead of \"if Track A\" in line 250 for better parallel structure.\n2. **Specification Precision**: The expiration section could benefit from more precise timing about when frames transition between states.\n3. **Error Handling**: Consider specifying behavior when instant deltas result in non-monotonic timestamps.\n\n#### **Security & Performance** \ud83d\udd12\n\n- \u2705 No security concerns identified\n- \u2705 Performance considerations properly addressed through prioritization\n- \u2705 Flow control implications well-documented\n- \u2705 Resource exhaustion protections mentioned\n\n### Overall Assessment\n\nThis is a high-quality addition that significantly enhances the protocol's real-time capabilities. The delivery properties framework is well-designed and addresses key requirements for live media applications. The specification is generally clear and implementable, with only minor formatting and consistency issues that should be addressed.\n\n**Recommendation**: Approve with minor fixes for the typos and technical inconsistencies listed above.",
          "createdAt": "2026-01-10T10:34:04Z",
          "updatedAt": "2026-01-10T10:35:34Z"
        },
        {
          "author": "coderabbitai",
          "authorAssociation": "NONE",
          "body": "<!-- This is an auto-generated comment: summarize by coderabbit.ai -->\n<!-- walkthrough_start -->\n\n## Walkthrough\n\nThe document introduces a two-sided prioritization model with Priority, Ordered, and Max Latency fields for both subscribers and publishers. It adds Instant and Instant Delta semantics to frames for expiration and synchronization purposes. Group handling requirements are strengthened, requiring applications to process out-of-order groups rather than optionally buffering them. Delivery-related concepts are formalized with a new dedicated section. SUBSCRIBE, SUBSCRIBE_UPDATE, and SUBSCRIBE_OK messages are updated with new fields and behavior. The STREAM table is modified to reflect these changes. Editorial updates align terminology throughout, and the changelog is expanded to include moq-lite-03 capabilities.\n\n<!-- walkthrough_end -->\n\n\n<!-- pre_merge_checks_walkthrough_start -->\n\n<details>\n<summary>\ud83d\udea5 Pre-merge checks | \u2705 2 | \u274c 1</summary>\n\n<details>\n<summary>\u274c Failed checks (1 inconclusive)</summary>\n\n|     Check name    | Status         | Explanation                                                                                                                                       | Resolution                                                                                                                                  |\n| :---------------: | :------------- | :------------------------------------------------------------------------------------------------------------------------------------------------ | :------------------------------------------------------------------------------------------------------------------------------------------ |\n| Description check | \u2753 Inconclusive | No pull request description was provided by the author, making it impossible to assess whether a description exists and relates to the changeset. | Consider adding a brief description explaining the purpose and scope of the new delivery properties being introduced in this draft version. |\n\n</details>\n<details>\n<summary>\u2705 Passed checks (2 passed)</summary>\n\n|     Check name     | Status   | Explanation                                                                                                                                                |\n| :----------------: | :------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------- |\n|     Title check    | \u2705 Passed | The title 'draft-03: add delivery properties' directly and clearly summarizes the main change: introducing delivery properties to the draft specification. |\n| Docstring Coverage | \u2705 Passed | No functions found in the changed files to evaluate docstring coverage. Skipping docstring coverage check.                                                 |\n\n</details>\n\n<sub>\u270f\ufe0f Tip: You can configure your own custom pre-merge checks in the settings.</sub>\n\n</details>\n\n<!-- pre_merge_checks_walkthrough_end -->\n\n<!-- tips_start -->\n\n---\n\nThanks for using [CodeRabbit](https://coderabbit.ai?utm_source=oss&utm_medium=github&utm_campaign=moq-dev/drafts&utm_content=14)! It's free for OSS, and your support helps us grow. If you like it, consider giving us a shout-out.\n\n<details>\n<summary>\u2764\ufe0f Share</summary>\n\n- [X](https://twitter.com/intent/tweet?text=I%20just%20used%20%40coderabbitai%20for%20my%20code%20review%2C%20and%20it%27s%20fantastic%21%20It%27s%20free%20for%20OSS%20and%20offers%20a%20free%20trial%20for%20the%20proprietary%20code.%20Check%20it%20out%3A&url=https%3A//coderabbit.ai)\n- [Mastodon](https://mastodon.social/share?text=I%20just%20used%20%40coderabbitai%20for%20my%20code%20review%2C%20and%20it%27s%20fantastic%21%20It%27s%20free%20for%20OSS%20and%20offers%20a%20free%20trial%20for%20the%20proprietary%20code.%20Check%20it%20out%3A%20https%3A%2F%2Fcoderabbit.ai)\n- [Reddit](https://www.reddit.com/submit?title=Great%20tool%20for%20code%20review%20-%20CodeRabbit&text=I%20just%20used%20CodeRabbit%20for%20my%20code%20review%2C%20and%20it%27s%20fantastic%21%20It%27s%20free%20for%20OSS%20and%20offers%20a%20free%20trial%20for%20proprietary%20code.%20Check%20it%20out%3A%20https%3A//coderabbit.ai)\n- [LinkedIn](https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fcoderabbit.ai&mini=true&title=Great%20tool%20for%20code%20review%20-%20CodeRabbit&summary=I%20just%20used%20CodeRabbit%20for%20my%20code%20review%2C%20and%20it%27s%20fantastic%21%20It%27s%20free%20for%20OSS%20and%20offers%20a%20free%20trial%20for%20proprietary%20code)\n\n</details>\n\n<sub>Comment `@coderabbitai help` to get the list of available commands and usage tips.</sub>\n\n<!-- tips_end -->\n\n<!-- internal state start -->\n\n\n<!-- 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 -->\n\n<!-- internal state end -->",
          "createdAt": "2026-01-10T10:35:25Z",
          "updatedAt": "2026-01-10T10:35:25Z"
        }
      ],
      "reviews": [
        {
          "id": "PRR_kwDOLz_x-M7ZXC7Q",
          "commit": {
            "abbreviatedOid": "17379e4"
          },
          "author": "coderabbitai",
          "authorAssociation": "NONE",
          "state": "COMMENTED",
          "body": "**Actionable comments posted: 0**\n\n<details>\n<summary>\ud83e\uddf9 Nitpick comments (7)</summary><blockquote>\n\n<details>\n<summary>draft-lcurley-moq-lite.md (7)</summary><blockquote>\n\n`106-111`: **Consider adding a forward reference to the Delivery section for clarity.**\n\nThe Track definition introduces three new fields (Priority, Ordered, Max Latency) but defers their detailed explanation. While this is acceptable given they're explained later in the Delivery section, adding a brief forward reference (e.g., \"See the [Delivery](#delivery) section for details\") would improve flow for readers who encounter these terms for the first time.\n\n---\n\n`120-121`: **Clarify the application's responsibility for buffering capacity.**\n\nThe requirement \"MUST process or buffer groups out of order\" places responsibility on the application but doesn't address what happens if an application lacks buffering capacity for many out-of-order groups. Should the application reset the subscription, or does the expiration mechanism handle this?\n\n\n\nConsider adding a note: \"An application without sufficient buffering capacity MAY reset the subscription or rely on the [Expiration](#expiration) mechanism to discard old groups.\"\n\n---\n\n`248-290`: **Clarify the resolution order when Publisher and Subscriber Ordered values differ.**\n\nThe Prioritization section explains Priority as a per-Track field and Ordered as a per-Group field within a Track, with a good example. However, it doesn't explicitly state what happens when `Subscriber Ordered` and `Publisher Ordered` differ. Does the publisher always prefer Subscriber Ordered, or does it attempt to honor both (e.g., within Publisher constraints)?\n\n\n\nConsider adding: \"If Subscriber Ordered and Publisher Ordered differ, the publisher SHOULD honor the Subscriber Ordered preference. The Publisher Ordered value MAY be used to resolve conflicts when serving multiple downstream subscriptions from a single upstream subscription.\"\n\n---\n\n`321-338`: **Clarify whether expiration uses the minimum of both Max Latency values or per-endpoint logic.**\n\nLines 328-330 suggest separate logic per-endpoint (subscriber and publisher independently decide expiration) but state \"An implementation MAY use the minimum of both when determining when to expire a group.\" This creates ambiguity: should implementations use the minimum, or is this optional?\n\n\n\nConsider rewording to: \"A subscriber SHOULD expire groups based on the Subscriber Max Latency...A publisher SHOULD expire groups based on the Publisher Max Latency...An implementation that proxies subscriptions (e.g., a relay) MAY use the minimum of both values to optimize resource usage.\"\n\n---\n\n`557-560`: **Verify that Subscriber Max Latency guidance is clearly tied to expiration semantics.**\n\nThe SUBSCRIBE message now includes `Subscriber Max Latency` (line 539), and the field description (lines 557-560) references the Expiration section. The description is clear, but consider whether it should explicitly mention that this value interacts with the Publisher Max Latency field sent in SUBSCRIBE_OK.\n\n\n\nConsider appending to the description: \"The publisher will compare this with the Publisher Max Latency it sends in SUBSCRIBE_OK; see the [Expiration](#expiration) section for details.\"\n\n---\n\n`270-290`: **Minor: Code block styling inconsistencies.**\n\nThe example code blocks at lines 270-277 and 285-290 use fenced backticks but are missing language specifiers. While this doesn't affect protocol semantics, consider adding a language hint (e.g., ` ```text ` or ` ```plaintext `) for consistency with the rest of the document and to appease the markdown linter.\n\n---\n\n`246-246`: **Minor: Grammar and style issues.**\n\n- Line 246: \"very important\" is an overused intensifier; consider \"How these streams are transmitted over the network is critical.\"\n- Line 284: \"full screen\" should be hyphenated as \"full-screen.\"\n- Line 361: \"ex.\" should be \"e.g.,\" for consistency.\n- Line 633: \"application specific\" should be \"application-specific.\"\n\n</blockquote></details>\n\n</blockquote></details>\n\n<details>\n<summary>\ud83d\udcdc Review details</summary>\n\n**Configuration used**: Organization UI\n\n**Review profile**: CHILL\n\n**Plan**: Pro\n\n<details>\n<summary>\ud83d\udce5 Commits</summary>\n\nReviewing files that changed from the base of the PR and between 9da8678cf72b826da7a6f3f4c3109789c2d2f7cc and 17379e46cdf2fee741e3a30ab2b4eb708a6e88b5.\n\n</details>\n\n<details>\n<summary>\ud83d\udcd2 Files selected for processing (1)</summary>\n\n* `draft-lcurley-moq-lite.md`\n\n</details>\n\n<details>\n<summary>\ud83e\uddf0 Additional context used</summary>\n\n<details>\n<summary>\ud83e\ude9b LanguageTool</summary>\n\n<details>\n<summary>draft-lcurley-moq-lite.md</summary>\n\n[style] ~246-~246: As an alternative to the over-used intensifier \u2018very\u2019, consider replacing this phrase.\nContext: ...ams get transmitted over the network is very important, and yet has been distilled down into a...\n\n(EN_WEAK_ADJECTIVE)\n\n---\n\n[grammar] ~284-~284: Use a hyphen to join words.\nContext: ... could override it if we decided to full screen Ali's window: ``` ali/audio subsc...\n\n(QB_NEW_EN_HYPHEN)\n\n---\n\n[style] ~297-~297: You have already used this phrasing in nearby sentences. Consider replacing it to add variety to your writing.\nContext: ...cation SHOULD NOT use `ordered` when it wants to provide a live experience, preferring t...\n\n(REP_WANT_TO_VB)\n\n---\n\n[grammar] ~361-~361: Ensure spelling is correct\nContext: ...r encoding delays, ex. when video takes 300ms longer to encode than audio. However, i...\n\n(QB_NEW_EN_ORTHOGRAPHY_ERROR_IDS_1)\n\n---\n\n[grammar] ~633-~633: Use a hyphen to join words.\nContext: ...nformation.  **Payload**: An application specific payload. A generic library or r...\n\n(QB_NEW_EN_HYPHEN)\n\n</details>\n\n</details>\n<details>\n<summary>\ud83e\ude9b markdownlint-cli2 (0.18.1)</summary>\n\n<details>\n<summary>draft-lcurley-moq-lite.md</summary>\n\n123-123: Heading style\nExpected: setext; Actual: atx\n\n(MD003, heading-style)\n\n---\n\n240-240: Heading style\nExpected: setext; Actual: atx\n\n(MD003, heading-style)\n\n---\n\n248-248: Heading style\nExpected: setext; Actual: atx\n\n(MD003, heading-style)\n\n---\n\n256-256: Heading style\nExpected: setext; Actual: atx\n\n(MD003, heading-style)\n\n---\n\n270-270: Fenced code blocks should have a language specified\n\n(MD040, fenced-code-language)\n\n---\n\n270-270: Code block style\nExpected: indented; Actual: fenced\n\n(MD046, code-block-style)\n\n---\n\n277-277: Fenced code blocks should have a language specified\n\n(MD040, fenced-code-language)\n\n---\n\n277-277: Code block style\nExpected: indented; Actual: fenced\n\n(MD046, code-block-style)\n\n---\n\n285-285: Fenced code blocks should have a language specified\n\n(MD040, fenced-code-language)\n\n---\n\n285-285: Code block style\nExpected: indented; Actual: fenced\n\n(MD046, code-block-style)\n\n---\n\n292-292: Heading style\nExpected: setext; Actual: atx\n\n(MD003, heading-style)\n\n---\n\n304-304: Heading style\nExpected: setext; Actual: atx\n\n(MD003, heading-style)\n\n---\n\n321-321: Heading style\nExpected: setext; Actual: atx\n\n(MD003, heading-style)\n\n---\n\n364-364: Heading style\nExpected: setext; Actual: atx\n\n(MD003, heading-style)\n\n---\n\n563-563: Heading style\nExpected: setext; Actual: atx\n\n(MD003, heading-style)\n\n---\n\n567-567: Fenced code blocks should have a language specified\n\n(MD040, fenced-code-language)\n\n---\n\n567-567: Code block style\nExpected: indented; Actual: fenced\n\n(MD046, code-block-style)\n\n---\n\n567-567: Code fence style\nExpected: backtick; Actual: tilde\n\n(MD048, code-fence-style)\n\n---\n\n579-579: Heading style\nExpected: setext; Actual: atx\n\n(MD003, heading-style)\n\n---\n\n583-583: Fenced code blocks should have a language specified\n\n(MD040, fenced-code-language)\n\n---\n\n583-583: Code block style\nExpected: indented; Actual: fenced\n\n(MD046, code-block-style)\n\n---\n\n583-583: Code fence style\nExpected: backtick; Actual: tilde\n\n(MD048, code-fence-style)\n\n---\n\n637-637: Heading style\nExpected: setext; Actual: atx\n\n(MD003, heading-style)\n\n---\n\n639-639: Heading style\nExpected: setext; Actual: atx\n\n(MD003, heading-style)\n\n</details>\n\n</details>\n\n</details>\n\n<details>\n<summary>\ud83d\udd07 Additional comments (4)</summary><blockquote>\n\n<details>\n<summary>draft-lcurley-moq-lite.md (4)</summary><blockquote>\n\n`123-128`: **LGTM.**\n\nThe Frame definition clearly establishes the dual purpose of Instant (protocol-level for expiration/metrics and optionally application-level for presentation), which aligns well with the later Instant section.\n\n---\n\n`215-235`: **Clarify what triggers multiple SUBSCRIBE_OK messages and their semantics.**\n\nLine 235 states \"The publisher replies with any number of SUBSCRIBE_OK messages, or closes the stream.\" However, it's unclear when/why a publisher would send multiple SUBSCRIBE_OK messages beyond the initial acceptance. Does this correspond to dynamic priority updates (e.g., speaker changes in the conference example)?\n\n\n\nThe Appendix A changelog (line 643) states \"SUBSCRIBE_OK may be sent multiple times\" but doesn't explain the trigger or semantics. Consider adding guidance on when and why publishers send multiple SUBSCRIBE_OK messages (e.g., updating Publisher Priority dynamically).\n\n---\n\n`615-630`: **Clarify the Instant Delta encoding starting point within a Group.**\n\nThe FRAME message now uses `Instant Delta` (line 621) encoded as a delta from the previous frame. However, it's not explicitly stated: what is the baseline Instant for the first frame in a group? Should implementations assume:\n- The delta is relative to the previous frame in the group (clear for frames 2+)?\n- Or should the first frame's delta be relative to 0, or to the Group's start time?\n\n\n\nLine 628 says \"encoded as a delta from the previous frame in the same group\" but doesn't clarify the first frame's baseline. Consider adding: \"For the first frame in a group, the Instant Delta is relative to 0. Subsequent frames are relative to the previous frame's instant (base instant + cumulative deltas).\"\n\n---\n\n`637-643`: **LGTM.**\n\nThe changelog accurately documents the new moq-lite-03 fields and capabilities introduced in this draft.\n\n</blockquote></details>\n\n</blockquote></details>\n\n</details>\n\n<!-- This is an auto-generated comment by CodeRabbit for review status -->",
          "createdAt": "2026-01-10T10:35:28Z",
          "updatedAt": "2026-01-10T10:35:28Z",
          "comments": []
        }
      ]
    }
  ]
}